<!--
 - Created by a.romero on 06/08/2019.
 -->

<template>
    <lightning-card>

    <lightning-record-edit-form record-id={recordId} object-api-name={objectApiName} onsubmit={handleSubmit} onsuccess={handleSuccess} onerror={handleError} onrecordchange ={handleChange} class="wrapper">
            <template if:false={spinner}>
                <lightning-combobox name="Status" field-name='Status' label="Status" value={chosenStatus} placeholder="Select Status" options={statusOptions} onchange={handleChangeBox} class="inputForm" required></lightning-combobox>
                <lightning-input-field field-name='Status' value={chosenStatus} class="inputForm slds-hide" required> </lightning-input-field>
                <template if:false={technicalRT}>
                    <lightning-input-field field-name='Category__c' label='Reporting Category' value={CategoryInput} onchange={handleChange} class="inputForm" required></lightning-input-field>
                    <lightning-input-field field-name='Subcategory__c' label='Reporting Subcategory' value={SubcategoryInput} onchange={handleChange} class="inputForm" required></lightning-input-field>
                </template>
                <template if:true={technicalRT}> 
                    <lightning-input-field field-name='Type' label='Type' value={TypeInput} onchange={handleChange} class="slds-hide"> </lightning-input-field>
                    <lightning-input-field field-name='ReportingCategory__c' label='Reporting Category' value={rCategoryInput} onchange={handleChange} class="inputForm" required></lightning-input-field>
                    <template if:false={typeRequest}>
                        <lightning-input-field field-name='ReportingSubcategory__c' label='Reporting Subcategory' value={rSubcategoryInput} onchange={handleChange} class="inputForm" required></lightning-input-field>
                    </template>
                    <lightning-input-field field-name='MethodUsed__c' label='Method Used' value={methodUsed}  onchange = {handleChange} class="inputForm" required></lightning-input-field>
                </template>
                <lightning-button variant="brand" onclick={handleSubmit} label="Close case"></lightning-button>
            </template>
    </lightning-record-edit-form>
    </lightning-card>
</template>