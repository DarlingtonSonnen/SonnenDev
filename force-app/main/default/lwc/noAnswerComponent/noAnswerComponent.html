<!--
 - Created by m.muchow on 05.03.2019.
 -->

<!-- No Answer Component -->
<template>
    <template if:true={visible}>
        <lightning-card title="Send Auto-Emails">
            <template if:true={emailSwitch}>
                <template if:true={visibleMeta}>
                    <template if:true={spinner}>
                        <lightning-spinner alternative-text="Loading"></lightning-spinner>
                    </template>
                    <template if:true={visibleNoAns}>
                        <div class="slds-align_absolute-center">
                            <lightning-button label={buttonTitleNoAns} title={buttonTitleNoAns} onclick={handleButtonClickNoAns} variant="brand" icon-name="utility:email" icon-position="left"></lightning-button>
                        </div>
                    </template>
                    <template if:true={visibleQualy}>
                        <div class="slds-align_absolute-center slds-p-top_small">
                            <lightning-button label="Send Qualification Email" title={buttonTitleQualy} onclick={handleButtonClickQualy} variant="brand" icon-name="utility:email" icon-position="left"></lightning-button>
                        </div>
                    </template>
                </template>
            </template>
            <template if:false={visibleMeta}>
                <template if:true={spinner}>
                    <lightning-spinner alternative-text="Loading"></lightning-spinner>
                </template>
                <div class="slds-p-around_small">
                    No Email Templates found for this Target Country.
                    <lightning-record-edit-form object-api-name={objectApiName} record-id={recordId} onsubmit={handleSpinner} onsuccess={handleSuccessMeta} onerror={handleError}>
                        <lightning-input-field field-name={targetCountry}></lightning-input-field>
                        <div class="slds-m-top_medium">
                            <lightning-button variant="brand" type="submit" name="save" label="Save"></lightning-button>
                        </div>
                    </lightning-record-edit-form>
                </div>
            </template>
            <template if:false={emailSwitch}>
                <template if:true={spinner}>
                    <lightning-spinner alternative-text="Loading"></lightning-spinner>
                </template>
                <div class="slds-p-around_small">
                    <lightning-record-edit-form object-api-name={objectApiName} record-id={recordId} onsubmit={handleSpinner} onsuccess={handleSuccessEmail} onerror={handleError}>
                        <lightning-input-field field-name={email}></lightning-input-field>
                        <div class="slds-m-top_medium">
                            <lightning-button variant="brand" type="submit" name="save" label="Save"></lightning-button>
                        </div>
                    </lightning-record-edit-form>
                </div>
            </template>
        </lightning-card>
    </template>
</template>